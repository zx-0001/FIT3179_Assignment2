<!DOCTYPE html>
<html>
  <head>
    <!-- Import Vega & Vega-Lite (does not have to be from CDN) -->
    <script src="https://cdn.jsdelivr.net/npm/vega@5.22.1"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.5.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.21.0"></script>

    <!-- CSS file -->
    <link rel="stylesheet" type="text/css" href="css/styles.css" media="all" />
  </head>
  <body>
    <div class="center-screen">
      <div class="container">
        <h1 id="title">Socio-economic factors of different income countries</h1>
      </div>

      <div class="container">
        <h2 class="heading">Overview</h2>
        <div class="column_left">
          <p>
            With advances in science and technology, we are currently living in
            the most prosperous era in human history and this is especially true
            for those living in high-income countries. However, can the same be
            said for low-income countries and how significant are the
            differences between countries of different incomes?
          </p>
        </div>
        <div class="column_right">
          <p>
            The following visualisations used data from the World Bank of
            different countries' socio-economic variables and life expectancy
            from 2001-2019 and will show the differences between countries of
            different income groups based on these variables.
          </p>
        </div>

        <div id="choropleth_map"></div>
        <div id="donut_chart"></div>
        <div class="column_right">
          <p>
            The donut chart provides an overview of the proportions of the
            different income groups. From the data, we can see that over half of
            the countries are in the upper-middle and high-income classes in
            2019.
          </p>
        </div>

        <div id="group_bar_chart"></div>
        <div class="column_left">
          <p>
            The grouped bar charts above show the count of the income groups in
            each region in 2019. More details can be seen by hovering over the
            bars.
          </p>
        </div>
        <div class="column_right">
          <p>
            The main findings are that most high-income countries are in Europe
            & Central Asia while Sub-Saharan Africa has the highest number of
            low-income countries. This shows a clear inequality in income across
            regions
          </p>
        </div>
      </div>

      <div class="container">
        <h2 class="heading">Trends</h2>
        <div id="scatter_plot"></div>
        <div class="column_left">
          <p>
            Intuitively speaking, more spending on health should increase life
            expectancy but from the graph, there does not appear to be any
            universal correlation between health expenditure (% GDP) and life
            expectancy. The legend can be clicked to highlight the region of
            interest.
          </p>
        </div>
        <div class="column_right">
          <p>
            Interestingly, some countries like Singapore, have high life
            expectancy despite having a lower % of health expenditure whereas a
            country like Afghanistan has a comparatively low life expectancy.
            This can mean there are other more important variables that affect
            life expectancy or % of health expenditure is not a good variable to
            correlate with life expectancy.
          </p>
        </div>
      </div>
      <div class="container">
        <h2 class="heading">Comparisons</h2>
        <div id="bar_chart"></div>
        <div class="column_right">
          <p>
            The bar chart compares the unemployment rates of the different
            income distributions. We can see here that the highest unemployment
            rate is in upper-middle-income countries while high-income countries
            have the lowest unemployment rate. The low unemployment rate can be
            due to high-income countries having more job opportunities.
          </p>
        </div>

        <div id="line_chart"></div>
        <div class="column_left">
          <p>
            The line graph compares the average prevalence of undernourishment
            over time for the 4 income groups. Unsurprisingly, the lower the
            income group, the higher the prevalence of undernourishment with a
            big gap between low and middle-income countries. Low-income
            countries would not have an abundance of food and services hence the
            high undernourishment rate.
          </p>
        </div>

        <div id="range_dot_plot"></div>
        <div class="column_right">
          <p>
            The dot plot shows the average life expectancy of the different
            income groups in 2001 and 2019. While life expectancy has increased
            over time, we can see that the higher the income group, the higher
            the life expectancy and this can be due to low-income countries
            lacking the resources and facilities to provide proper nutrition and
            health care, resulting in higher mortality and lower life
            expectancy.
          </p>
        </div>
      </div>

      <div class="container">
        <p style="font-size: small; padding-left: 3%">
          Data source taken from
          <a
            href="https://www.kaggle.com/datasets/mjshri23/life-expectancy-and-socio-economic-world-bank"
            title="Link to data source"
            >here</a
          >
        </p>
      </div>
    </div>

    <script type="text/javascript">
      var spec2 = "js/choroplethMap.vg.json";
      vegaEmbed("#choropleth_map", spec2)
        .then(function (result) {
          // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
        })
        .catch(console.error);

      var spec3 = "js/bar_chart.vg.json";
      vegaEmbed("#bar_chart", spec3)
        .then(function (result) {
          // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
        })
        .catch(console.error);

      var spec4 = "js/scatterPlot.vg.json";
      vegaEmbed("#scatter_plot", spec4)
        .then(function (result) {
          // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
        })
        .catch(console.error);
      var spec5 = "js/line_chart.vg.json";
      vegaEmbed("#line_chart", spec5)
        .then(function (result) {
          // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
        })
        .catch(console.error);
      var spec6 = "js/donut_chart.vg.json";
      vegaEmbed("#donut_chart", spec6)
        .then(function (result) {
          // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
        })
        .catch(console.error);
      var spec7 = "js/group_bar_chart.vg.json";
      vegaEmbed("#group_bar_chart", spec7)
        .then(function (result) {
          // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
        })
        .catch(console.error);
      var spec8 = "js/range_dot_plot.vg.json";
      vegaEmbed("#range_dot_plot", spec8)
        .then(function (result) {
          // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
        })
        .catch(console.error);
    </script>
  </body>
</html>
